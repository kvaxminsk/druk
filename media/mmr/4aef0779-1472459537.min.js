(function($){var body,isMobile,scrWidth,scrHeight;var actions={open_product_image:function(){var jBox=$(this).parents('.image-box');if(jBox.hasClass('opened')){actions.close_product_image();return}
var boxH=jBox.innerHeight(),boxW=jBox.innerWidth(),boxOffsets={top:jBox.offset().top-$(window).scrollTop(),left:jBox.offset().left};jBox.css({'height':boxH+'px','width':boxW+'px','top':boxOffsets.top+'px','left':boxOffsets.left+'px','position':'fixed','z-index':'999999'}).animate({height:scrHeight,width:scrWidth,top:0,left:0},300,'swing',function(){$(this).addClass('opened').data('sizes',{boxH:boxH,boxW:boxW,top:boxOffsets.top,left:boxOffsets.left})})},close_product_image:function(){var jBox=$('.image-box.opened');var sizes=jBox.data('sizes');jBox.removeClass('opened').animate({width:sizes.boxW,height:sizes.boxH,top:sizes.top,left:sizes.left},200,'linear',function(){$(this).removeAttr('style')})},get_gallery_page:function(){var jGal=$('.gallery');var curPage=parseInt(jGal.attr('data-current')),num=parseInt(jGal.attr('data-num'));if(curPage==num){jGal.attr('data-all-loaded','1');change_photos(1);return}else if(jGal.attr('data-all-loaded')=='1'){change_photos(curPage+1);return}
$.ajax({url:'/ajax-handler.php',type:'POST',data:'current='+curPage+'&action=aj_gallery_page&mode=ajax',dataType:'json',beforeSend:function(){jGal.find('.refresh').addClass('loading')},success:function(json){jGal.find('.refresh').removeClass('loading');var count=11;var newNum=curPage+1;jGal.find(".photo").each(function(index,elem){var img=new Image();img.src=json[index].src;img.onload=function(){if(index==10){pushLoader(4);change_photos(newNum)}else{pushLoader(3)}}
$(this).append('<div class="inner-box num-'+newNum+'"><span class="img-wrapper"><img src="'+img.src+'" /></span></div>')})},error:function(xhr,status){console.log(status)}})},show_more_reviews:function(){var jRow=$('.reviews .line.shown').last().next('.line');if(jRow.length){jRow.addClass('shown');if($('.reviews .line').last().index()==jRow.index())
$('.reviews .button').hide('slow')}},instafeed_change:function(dir){var jInsta=$('#instafeed');var jInstaCur=jInsta.find('.current');if(dir=='next'){if(jInsta.hasClass('end'))
return;var jInstaNext=jInstaCur.next('.feed-page');jInstaCur.toggleClass('current out');jInstaNext.addClass('current');if(!jInstaNext.next('.feed-page').length)
jInsta.addClass('end');if(jInsta.hasClass('start'))
jInsta.removeClass('start')}else{if(jInsta.hasClass('start'))
return;var jInstaNext=jInstaCur.prev('.feed-page');jInstaCur.removeClass('current');jInstaNext.toggleClass('out current');if(!jInstaNext.prev('.feed-page').length)
jInsta.addClass('start');if(jInsta.hasClass('end'))
jInsta.removeClass('end')}},show_dialog:function(params){var dialog_win=$('#dialog').find(".dl-"+params);if($(this).attr('data-form-action'))
dialog_win.find('form').attr('action',$(this).attr('data-form-action'));if($(this).attr('data-form-fields')){var fields=$(this).attr('data-form-fields').split(';');$.each(fields,function(i,e){var field=e.split(':');dialog_win.find('form').append('<input type="hidden" name="'+field[0]+'" value="'+field[1]+'" />')})}
$('#dialog').toggleClass('off on');dialog_win.addClass("shown")},close_dialog:function(){$('#dialog').toggleClass('off on').find(".dialog.shown").removeClass("shown");$('#dialog').find('input[type="hidden"]').remove()},confirm_form:function(params){var jForm=$(this).parents('.dialog').find('form');$.ajax({url:'/ajax-handler.php',type:'post',dataType:'json',data:jForm.serialize()+'&mode=ajax&action='+jForm.attr('action'),beforeSend:function(){jForm.parents('.dialog').addClass('inproc');jForm.parent().children('.alert').addClass('closed')},success:function(json){jForm.parents('.dialog').removeClass('inproc');if(json.status=='warning'){jForm.parent().children('.alert').text(json.text).removeClass('closed')}
if(json.status=='error'){}
if(json.status=='success'){jForm.parents('.dialog').toggleClass('inproc success');setTimeout(function(){actions.close_dialog()},1600)}},error:function(xhr,status){jForm.parents('.dialog').removeClass('inproc');console.log(status);console.log(xhr);alert("Сожалеем, произошла ошибка при отправке данных. Попробуйте обновить страницу и повторить.")}})},manager_help:function(){var jForm=$(this).parents('form');$.ajax({url:'/ajax-handler.php',type:'post',dataType:'json',data:jForm.serialize()+'&mode=ajax&action=callback',beforeSend:function(){jForm.addClass('loading')},success:function(json){if(json.status=='error'){}
if(json.status=='success'){jForm.toggleClass('loading success')}},error:function(xhr,status){console.log(status);console.log(xhr);alert("Сожалеем, произошла ошибка при отправке данных. Попробуйте обновить страницу и повторить.")}})},toggle_menu:function(){$('body').toggleClass('menu-opened')},open_menu:function(){$('body').addClass('menu-opened')},close_menu:function(){$('body').removeClass('menu-opened')}}
function do_action(){var fnName;if($(this).is('a'))
fnName=$(this).attr('href').replace('#','');else fnName=$(this).attr('data-action');var fnParams=$(this).attr('data-params');var fn=actions[fnName];if(typeof fn==="function")
fn.apply(this,[fnParams])}
$(window).on('load',function(){ymaps.ready(init_map)});var ll_flag=!1,ll_wait=null,ll_wait_block=null;function start_lazy_load(){if(!$('.ll-block').length){return load_others()}
var ll_blocks={};$('.ll-block').each(function(i,e){ll_blocks[i]=$(this)});var ll_num=ll_blocks.length-1;var current=0;ll_wait=setInterval(function(){if(!ll_flag){var jImages=ll_blocks[current++].find('img[data-ll]');lazy_load(jImages)}
if(ll_blocks[current]==undefined){load_others()}},50)}
function lazy_load(jImages){ll_flag=jImages.length;jImages.each(function(i,e){$(this).attr("src",$(this).attr('data-ll')).removeAttr('data-ll');$(this)[0].onload=function(){ll_flag--}})}
function load_others(){clearInterval(ll_wait);$('img[data-ll]').each(function(i,e){$(this).attr("src",$(this).attr('data-ll')).removeAttr('data-ll')})}
$(document).ready(function(){body=$(document.body);scrWidth=$(window).width();scrHeight=$(window).height();if($('body').hasClass('mobile-env'))
isMobile=!0;else isMobile=!1;start_lazy_load();$('.jact').on("click",function(e){e.preventDefault();do_action.apply(this)});$('body').on("click",function(e){if(!$(e.target).parents('.site-header').length&&$(this).hasClass('menu-opened')){e.preventDefault();actions.close_menu()}});$('input[name="phone"]').on("keyup",function(){if(/[^0-9]/.test($(this).val()))
$(this).val($(this).val().replace(/[^0-9]/,""))});if($('body').hasClass('product')){$('.change-image').on("mouseenter",function(e){e.preventDefault();var id=$(this).attr('href');$('.big-image .active').removeClass('active');$(id).addClass('active')});$('.product .images').on("mouseleave",function(e){$('.big-image .active').removeClass('active');$('.big-image .item').first().addClass('active')});$('.product .thumbs a').on("click",function(e){e.preventDefault()})
var scrollerInterval,scrollerPos,thumbSize={'w':$('.thumbs .item').last().outerWidth(),'h':$('.thumbs .item').last().outerHeight(!0)};$('.scroll-down').on("mouseenter",function(){scrollerInterval=setInterval(function(){scrollerPos=scrollerPos+3;$('.scroller').scrollTop(scrollerPos)},20)}).on("mouseleave",function(){clearInterval(scrollerInterval)}).on("click",function(e){e.preventDefault();clearInterval(scrollerInterval);scrollerPos=$('.scroller').scrollTop();var add=scrollerPos+thumbSize.h;if(scrollerPos%thumbSize.h)
add=Math.ceil(scroll/thumbSize.h)*thumbSize.h;$('.scroller').scrollTop(add)});$('.scroll-up').on("mouseenter",function(){scrollerInterval=setInterval(function(){$('.scroller').scrollTop(scrollerPos--)},10)}).on("mouseleave",function(){clearInterval(scrollerInterval)}).on("click",function(e){e.preventDefault();clearInterval(scrollerInterval);scrollerPos=$('.scroller').scrollTop();var add=scrollerPos-thumbSize.h;if(scrollerPos%thumbSize.h)
add=Math.floor(scroll/thumbSize.h)*thumbSize.h;$('.scroller').scrollTop(add)});$('.scroller').scroll(function(){scrollerPos=$('.scroller').scrollTop();if(scrollerPos)
$('.scroll-up').addClass('shown');else $('.scroll-up').removeClass('shown')});$('body').on("click",function(e){if($(e.target).not('a')&&$('.image-box.opened').length){e.preventDefault();actions.close_product_image()}})}
$('#dialog').on("click",function(e){if(!$(e.target).parents('.dialog-block').length){e.preventDefault();actions.close_dialog()}});if($(".owl-carousel").length){var items_show=$(".owl-carousel").attr('data-elems');if(scrWidth>680){$(".owl-carousel").owlCarousel({items:items_show,loop:!0,nav:!0,navText:['<i class="fa fa-angle-left"></i>','<i class="fa fa-angle-right"></i>'],dots:!1})}}
$('.catalog-nav a').on("click",function(e){e.preventDefault();var id=$(this).attr('href');$('.catalog-nav li.active').removeClass('active');$(this).parent('li').addClass('active');$('.catalog-section.current').addClass('out').delay(300).queue(function(){$(id+'-table').addClass('current');$(this).removeClass('out current').dequeue()})});$('.gallery .photo').on("mousedown",function(e){var jImage=$(this).find('.inner-box img');var url=jImage.attr('data-rl');if(url){jImage.addClass('loading');jImage.attr('src',url);jImage.removeAttr('data-rl');jImage[0].onload=function(){jImage.toggleClass('loading loaded')}}}).on("click",function(e){e.preventDefault();show_photo($(this))});if($('body').hasClass('home')){show_graphs();tstTimer=setTimeout(change_tstmonial,5000);$('.tmonial-item').on("mouseover",function(e){clearTimeout(tstTimer)}).on("mouseout",function(){tstTimer=setTimeout(change_tstmonial,3000)});$('.tmonials-nav a').on("click",function(e){e.preventDefault();show_tstmonial($(this).attr("href"));$('.tmonials-nav .active').removeClass('active');$(this).addClass("active")});if(scrWidth>1100){$(window).scroll(function(e){if($(window).scrollTop()>400){$('.site-header').addClass('prepare').addClass('fixed-menu')}else if($(window).scrollTop()<400&&$('.site-header').hasClass('fixed-menu')){$('.site-header').removeClass('fixed-menu');setTimeout(function(){$('.site-header').removeClass('prepare')},800)}})}}});if($('body').hasClass('home')){var btn=Snap("#works-loader");var loaderInterval;var lelements;var ielements;var isAutoRefresh;if(isMobile)isAutoRefresh=!1;else isAutoRefresh=!0;Snap.load("/media/themes/druks/images/load-1.svg",function(f){g=f.select("g");btn.append(g);lelements=btn.selectAll("g path");ielements=lelements.length-1})}
function resetRefresher(){clearInterval(loaderInterval);btn.selectAll("g path").animate({fill:"#c0c7d7"},200);var galN=detect_gallery_num();ielements=lelements.length-1}
function stopRefresher(){clearInterval(loaderInterval)}
function startLoader(){var i=lelements.length-1;loaderInterval=setInterval(function(){if(lelements[i]){lelements[i].animate({fill:"#000"},30);i--}else{resetRefresher()}},60)}
function pushLoader(num){if(num==undefined||num==1){if(lelements[ielements]){lelements[ielements].animate({fill:"#000"},30);ielements--}else{resetRefresher()}}else{var i=num;loaderInterval=setInterval(function(){if(lelements[ielements]&&i){lelements[ielements].animate({fill:"#000"},30);ielements--;i--}else{stopRefresher()}
if(lelements[ielements]==undefined)
resetRefresher()},60)}}
function change_photos(num){var queu={0:['f-1'],1:['s-1','f-2'],2:['f-3','s-2','s-3','t-1'],3:['f-4','s-4','t-2'],4:['t-3']};var delval=0;$.each(queu,function(index,elem){$.each(elem,function(index,elem){$('.photo.'+elem+' .inner-box.current').delay(delval).animate({opacity:0},200,'swing',function(){$(this).removeClass('current')});$('.photo.'+elem+' .inner-box.num-'+num).delay(delval+200).animate({opacity:1},200,'swing',function(){$(this).addClass('current')})});delval+=200});$('.gallery').attr('data-current',num)}
function detect_gallery_num(){var curNum=parseInt($('.gallery').attr('data-current')),Num=parseInt($('.gallery').attr('data-num'));if(curNum<0)return 1;if(curNum>=Num)
return 1;else return curNum+1}
function close_photo(){var jT=$('.gallery').find('.expanded');show_photo(jT)}
function show_photo(jT){if(scrWidth<=960){return show_photo_mobi(jT)}
if(jT.hasClass('expanded')){var data=jT.data('initial');jT.children('.inner-box').animate({width:data.size[0],height:data.size[1],left:data.offset[0],top:data.offset[1]},300,'swing',function(){jT.removeClass('expanded');jT.children('.inner-box').removeAttr('style')});$('.gallery').removeClass('show-photo');return}
$('.gallery').addClass('show-photo');var prevs=jT.prevAll(),tdH=$('td.sq').outerHeight()+10,line=jT.parent('tr').index(),prevsW=0;prevs.each(function(){prevsW+=$(this).outerWidth()});var offsetLeft=jT.position().left,offsetTop=jT.position().top;jT.children('.inner-box').css({'width':jT.innerWidth()+'px','height':jT.innerHeight()+'px','left':offsetLeft+'px','top':offsetTop+'px',});jT.data("initial",{offset:[offsetLeft+'px',offsetTop+'px'],size:[jT.innerWidth()+'px',jT.innerHeight()+'px']});jT.addClass('expanded');jT.children('.inner-box').animate({width:'100%',height:'100%',left:'0',top:'0'},400,'swing')}
function show_photo_mobi(jT){var jImg=jT.find('.inner-box img');var toH=scrWidth/(jImg.width()/jImg.height()),ofTop=(toH-jT.innerHeight())/2;if(jT.position().top<ofTop||jT.position().top==0)
ofTop=0;if(jT.hasClass('expanded')){$('.gallery').removeClass('show-photo');jT.children('.inner-box').animate({width:jT.innerWidth()+'px',height:jT.innerHeight()+'px',left:jT.position().left+'px',top:jT.position().top+'px'},300,'swing',function(){jT.removeClass('expanded');$(this).removeAttr('style')});return}
$('.gallery').addClass('show-photo');jT.addClass('expanded').children('.inner-box').css({'width':jT.innerWidth()+'px','height':jT.innerHeight()+'px','left':jT.position().left+'px','top':jT.position().top+'px'}).animate({width:'100%',height:toH+'px',left:'0',top:'-='+ofTop+'px'},300,'swing')}
function reload_gallery(num){var check=$('.gallery .inner-box.num-'+num);if(check!=undefined&&check.length>1){return}
var jGal=$('.gallery');$.ajax({url:"/functions.php",type:'GET',dataType:"json",data:'request=ajax&action=get_gallery&size='+scrWidth+'&num='+num,success:function(images){if(!0){jGal.addClass('loading');jGal.find(".photo.sq").each(function(index,elem){var url=images['sq-'+(index+1)].img;var srcset=images['sq-'+(index+1)].srcset;$(this).append('<div class="inner-box num-'+num+'"><span class="img-wrapper"><img src="'+url+'" /></span></div>')});jGal.find(".photo.hd").each(function(index,elem){var url=images['hd-'+(index+1)].img;var srcset=images['sq-'+(index+1)].srcset;$(this).append('<div class="inner-box num-'+num+'"><span class="img-wrapper"><img src="'+url+'" /></span></div>')});jGal.find(".photo.wd").append('<div class="inner-box num-'+num+'"><span class="img-wrapper"><img src="'+images['wd-1'].img+'" /></span></div>');$('.photo.wd .inner-box.num-'+num+' img').load(function(){jGal.removeClass('loading');jGal.addClass('num-'+num+'-loaded')})}},error:function(status,jqxhr){console.log(status)}})}
function show_tstmonial(id){clearTimeout(tstTimer);next=$(id);var cur=$('.tmonial-item.current');if(cur==next)
return;if(next.hasClass('in')){cur.toggleClass("current out");next.toggleClass("in current")}else{cur.toggleClass("current in");next.toggleClass("out current")}
tstTimer=setTimeout(change_tstmonial,6000)}
function change_tstmonial(){clearTimeout(tstTimer);var direction='right';var cur=$('.tmonial-item.current');if(!cur.next().hasClass('in'))
direction='left';if(direction=='right'){var next=cur.next();cur.toggleClass("current out");next.toggleClass("in current");$('.tmonials-nav .active').removeClass('active').next().addClass("active");if(!next.next().hasClass('in'))
direction='left'}else{var next=cur.prev();cur.toggleClass("current in");next.toggleClass("out current");$('.tmonials-nav .active').removeClass('active').prev().addClass("active");if(!next.prev().is('.out'))
direction=='right'}
tstTimer=setTimeout(change_tstmonial,6000)}
function show_graphs(){var pChart=$("#pie-chart");var lChart=$("#line-chart");var pieData={labels:["Red","Blue","Yellow"],datasets:[{data:[45,30,25],backgroundColor:["#3DBED6","#F7AD51","#E94D58"],hoverBackgroundColor:["#44C7DF","#FDB862","#F35661"]}]};var PieChart=new Chart(pChart,{type:'pie',data:pieData,options:{legend:{display:!1},tooltips:{enabled:!1},hover:{onHover:function(elem){$('.legend .item.selected').removeClass('selected');if(elem[0]!=undefined)
$('.legend .item').eq(elem[0]._index).addClass('selected');else $('.legend .item.selected').removeClass('selected')}}}});var data={labels:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"],datasets:[{fill:!1,lineTension:0.1,backgroundColor:"#f8f8f8",borderColor:"#3DBED6",borderCapStyle:'butt',borderJoinStyle:'miter',pointBorderColor:"#3DBED6",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:10,pointHoverBackgroundColor:"#FFF",pointHoverBorderColor:"#3DBED6",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:16,data:[24,20,28,26,29,21,24,32,20,17,26,28],},{fill:!1,lineTension:0.1,backgroundColor:"#f8f8f8",borderColor:"#F7AD51",borderCapStyle:'butt',borderJoinStyle:'miter',pointBorderColor:"#F7AD51",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:10,pointHoverBackgroundColor:"#FFF",pointHoverBorderColor:"#F7AD51",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:16,data:[0,5,2,10,14,3,0,0,5,0,2,3],},{fill:!1,lineTension:0.1,backgroundColor:"#f8f8f8",borderColor:"#E94D58",borderCapStyle:'butt',borderJoinStyle:'miter',pointBorderColor:"#E94D58",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:10,pointHoverBackgroundColor:"#FFF",pointHoverBorderColor:"#E94D58",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:16,data:[14,16,20,18,14,12,10,11,14,18,22,26],}]};var lineChart=new Chart(lChart,{type:'line',data:data,options:{legend:{display:!1},tooltips:{enabled:!1},scales:{yAxes:[{ticks:{display:!1,},scaleLabel:{display:!0,fontFamily:"'Open Sans', sans-serif",labelString:'Продажи'}}],xAxes:[{}]}}})}
function init_map(){if(!$('#ymap').length)
return;myMap=new ymaps.Map("ymap",{center:[53.862839,27.679573],zoom:$('#ymap').attr('data-zoom'),type:$('#ymap').attr('data-type')});myPlacemark=new ymaps.Placemark([53.862839,27.679573],{hintContent:'ОДО "Друк-С"',balloonContent:'г. Минск, ул. Ангарская, д. 2 корп. 3'});myMap.geoObjects.add(myPlacemark)}})(jQuery);(function(window,document){'use strict';var supportedBrowser=!1,loaded=!1;if(document.querySelector){if(window.addEventListener){supportedBrowser=!0}}
window.wp=window.wp||{};if(!!window.wp.receiveEmbedMessage){return}
window.wp.receiveEmbedMessage=function(e){var data=e.data;if(!(data.secret||data.message||data.value)){return}
if(/[^a-zA-Z0-9]/.test(data.secret)){return}
var iframes=document.querySelectorAll('iframe[data-secret="'+data.secret+'"]'),blockquotes=document.querySelectorAll('blockquote[data-secret="'+data.secret+'"]'),i,source,height,sourceURL,targetURL;for(i=0;i<blockquotes.length;i++){blockquotes[i].style.display='none'}
for(i=0;i<iframes.length;i++){source=iframes[i];if(e.source!==source.contentWindow){continue}
source.removeAttribute('style');if('height'===data.message){height=parseInt(data.value,10);if(height>1000){height=1000}else if(~~height<200){height=200}
source.height=height}
if('link'===data.message){sourceURL=document.createElement('a');targetURL=document.createElement('a');sourceURL.href=source.getAttribute('src');targetURL.href=data.value;if(targetURL.host===sourceURL.host){if(document.activeElement===source){window.top.location.href=data.value}}}}};function onLoad(){if(loaded){return}
loaded=!0;var isIE10=-1!==navigator.appVersion.indexOf('MSIE 10'),isIE11=!!navigator.userAgent.match(/Trident.*rv:11\./),iframes=document.querySelectorAll('iframe.wp-embedded-content'),iframeClone,i,source,secret;for(i=0;i<iframes.length;i++){source=iframes[i];if(source.getAttribute('data-secret')){continue}
secret=Math.random().toString(36).substr(2,10);source.src+='#?secret='+secret;source.setAttribute('data-secret',secret);if((isIE10||isIE11)){iframeClone=source.cloneNode(!0);iframeClone.removeAttribute('security');source.parentNode.replaceChild(iframeClone,source)}}}
if(supportedBrowser){window.addEventListener('message',window.wp.receiveEmbedMessage,!1);document.addEventListener('DOMContentLoaded',onLoad,!1);window.addEventListener('load',onLoad,!1)}})(window,document)